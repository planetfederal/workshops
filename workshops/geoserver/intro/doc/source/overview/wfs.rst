.. _geoserver.overview.wfs:

Web Feature Service (WFS)
=========================

A web mapping server can also (when allowed) return the actual geographic data that comprise the map images. One can think of the geographic data as the "source code" of the map. This allows users to create their own maps and applications from the data, convert data between certain formats, and be able to do raw geographic analysis of data. The protocol used to return geographic feature data is called **Web Feature Service (WFS)**.

.. figure:: img/wfs.png

   Diagram showing how a WFS turns a request into a response

Sample WFS request
------------------

The following is a sample WFS request, rendered as a HTTP GET request to a hosted GeoServer instance::

  http://demo.boundlessgeo.com/geoserver/wfs?service=wfs&version=1.1.0&request=GetFeature&typename=topp:states&featureid=states.39

The following is the same request with line breaks added for clarity::

  http://demo.boundlessgeo.com/geoserver/wfs?
    service=wfs&
    version=1.1.0&
    request=GetFeature&
    typename=topp:states&
    featureid=states.39

While the details of the WFS protocol are beyond the scope of this course, a quick scan of this request shows that the following information is being requested:

* Server details (WFS 1.1.0 request)
* Request type (GetFeature)
* Layer name (topp:states)
* Feature ID (states.39)

.. note:: As with WMS, the order of these parameters is not important.

This particular request polls the WFS for a single feature in a layer.

.. note:: A feature is a single unit of geographic data, such as a polygon or point. The above feature requested is the polygon describing for the state of New York.

Paste the request into a browser to see the result. The response contains the coordinates for each vertex in the feature in question, along with the attributes associated with this feature. Scroll down to the bottom to see the feature attributes.

.. figure:: img/wfs-response.png

   XML generated by a WFS request

While XML is difficult to read, it is easy for computers to parse, which makes WFS responses ideal for use in software. GeoServer offers other output formats as well, such as JSON, CSV, and even a shapefile archive.

Other WFS requests
------------------

A WFS request can ask for much more than just feature data. An example of another such request is to request information about the WFS server. The request is called **GetCapabilities**, and the response is known as the **capabilities document**. The capabilities document is an XML response that details the supported data layers, projections, bounding boxes, and functions available on the server.

.. note:: A WFS capabilities document is not the same as a WMS capabilities document. One displays information about image formats; the other about feature data.

The following is a sample WFS GetCapabilities request:

http://demo.boundlessgeo.com/geoserver/wfs?service=WFS&version=2.0.0&request=GetCapabilities

And the same request, with line breaks added for clarity::

  http://demo.boundlessgeo.com/geoserver/wfs?
    service=WFS&
    version=2.0.0&
    request=GetCapabilities

You can paste this request into a browser to see the result.

More Information
----------------

For more information, please see the `GeoServer documentation on WFS <http://docs.geoserver.org/latest/en/user/services/wfs/>`_ or the `OGC page on the Web Feature Service protocol <http://www.opengeospatial.org/standards/wfs>`_.